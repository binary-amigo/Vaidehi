<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="seats.css">
    <title>Seat Booking</title>
</head>

<body>
    <nav class="navbar">

        <div class="menu">
            <img src="https://cdn-icons-png.flaticon.com/128/5259/5259008.png" alt="menu" style="height: 20px; padding-right: 5px;">
            <span>Menu</span>
        </div>

        <div class="logo">
            <img src="https://cdn-icons-png.flaticon.com/128/566/566983.png" alt="logo" style="height: 50px; padding-right: 10px;">
            <h1>Wait Here</h1>
        </div>

        <div>
            <a href="/login.html" class="Login">Login</a>
        </div>

    </nav>

    <section class="seat-section">

        <div class="container">
      <ul class="showcase">
        <li>
          <div class="seat"></div>
          <small>Availabe seats</small>
        </li>
        <li>
          <div class="seat selected"></div>
          <small>Selected</small>
        </li>
        <li>
          <div class="seat occupied"></div>
          <small>Occupied</small>
        </li>
      </ul>
      <div class="seats">

          <div class="seat-container">
              <div class="row">
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
        </div>
        <div class="row">
            <div class="seat"></div>
            <div class="seat"></div>
            <div class="seat"></div>
            <div class="seat occupied"></div>
          <div class="seat occupied"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
        </div>
        <div class="row">
            <div class="seat"></div>
            <div class="seat"></div>
            <div class="seat"></div>
            <div class="seat"></div>
            <div class="seat"></div>
            <div class="seat"></div>
            <div class="seat occupied"></div>
            <div class="seat occupied"></div>
        </div>
        <div class="row">
            <div class="seat"></div>
            <div class="seat"></div>
            <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
        </div>
        <div class="row">
            <div class="seat"></div>
            <div class="seat"></div>
            <div class="seat"></div>
            <div class="seat occupied"></div>
          <div class="seat occupied"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
        </div>
        <div class="row">
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat"></div>
          <div class="seat occupied"></div>
          <div class="seat occupied"></div>
          <div class="seat occupied"></div>
          <div class="seat"></div>
        </div>
    </div>
    </div>
    <p class="text">
        You have selected <span id="count">0</span> seats for a price of Rs. <span
          id="total"
          >0</span
          >
        </p>
    </div>
    </section>
    
    
    <!-- <script src="script.js"></script> -->

<script>
    const container = document.querySelector(".seat-container");
const seats = document.querySelectorAll(".row .seat:not(.occupied)");
const count = document.getElementById("count");
const total = document.getElementById("total");
// const movieSelect = document.getElementById("movie");
// let ticketPrice = +movieSelect.value;
let ticketPrice = 100;

// // Note: localStorage is not enabled in CodePen for security reasons.
// function populateUI() {
//   const selectedSeats = JSON.parse(localStorage.getItem("selectedSeats"));
//   if (selectedSeats !== null && selectedSeats.length > 0) {
//     seats.forEach((seat, index) => {
//       if (selectedSeats.indexOf(index) > -1) seat.classList.add("selected");
//     });
//   }
// //   const selectedMovieIndex = localStorage.getItem("selectedMovieIndex");
// //   if (selectedMovieIndex !== null)
// //     movieSelect.selectedIndex = selectedMovieIndex;
// }

// // function setMovieData(movieIndex, moviePrice) {
// //   localStorage.setItem("selectedMovieIndex", movieIndex);
// //   localStorage.setItem("selectedMoviePrice", moviePrice);
// // }

function updateSelectedCount() {
  const selectedSeats = document.querySelectorAll(".row .seat.selected");
  // const seatsIndex = [...selectedSeats].map((seat) => [...seats].indexOf(seat));
  // localStorage.setItem("selectedSeats", JSON.stringify(seatsIndex));
  const selectedSeatsCount = selectedSeats.length;
  count.innerText = selectedSeatsCount;
  total.innerText = selectedSeatsCount * ticketPrice;
}

// // movieSelect.addEventListener("change", (e) => {
// //   ticketPrice = +e.target.value;
// //   // setMovieData(e.target.selectedIndex, e.target.value);
// //   updateSelectedCount();
// // });

container.addEventListener("click", (e) => {
  if (
    e.target.classList.contains("seat") &&
    !e.target.classList.contains("occupied")
  ) {
    e.target.classList.toggle("selected");
    updateSelectedCount();
  }
});

// Init
// populateUI();
// updateSelectedCount();
</script>
</body>
</html>